<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Member Management</title>
  <link rel="stylesheet" href="/css/mdb.min.css">
  <link rel="stylesheet" href="/css/datatables.min.css">
  <link rel="stylesheet" href="/css/date-picker.min.css">
  <link rel="stylesheet" href="/css/swiper-bundle.min.css">
  <link rel="stylesheet" href="/css/uicons-rounded.css">
  <link rel="stylesheet" href="/css/ui.css">
</head>
<body>
  <header id="header" class="header">
    <div class="header-toggle">
      <button class="btn" id="header-toggle">
        <i class="fi fi-rr-menu-burger"></i>
      </button>
    </div>

    <div class="header-profile"> 
      <img src="../images/memoji/Memoji-04.png" class="bg-primary-subtle">
      <span class="text-sm ms-2">Debi Rahmadi</span>
      <i class="fi fi-rr-angle-small-down"></i>
    </div>
  </header>

  <aside id="sidebar" class="sidebar">
    <nav class="nav">
      <div>
        <a href="#" class="nav-logo"> 
          <i class="fi fi-rr-layers nav-logo-icon"></i>
          <span class="nav-logo-name">Antapura Club</span> 
        </a>

        <div class="nav-list"> 
          <a href="dashboard.html" class="nav-link"> 
            <i class="fi fi-rr-apps nav-icon"></i>
            <span class="nav_name">Dashboard</span> 
          </a> 
          
          <a href="members.html" class="nav-link active"> 
            <i class="fi fi-rr-user nav-icon"></i>
            <span class="nav_name">Members</span> 
          </a> 

          <a href="transaction_request.html" class="nav-link"> 
            <i class="fi fi-rr-concierge-bell nav-icon"></i>
            <span class="nav_name">Request</span> 
          </a>

          <a href="marketplace.html" class="nav-link"> 
            <i class="fi fi-rr-shop nav-icon"></i>
            <span class="nav_name">Marketplace</span> 
          </a>

          <a href="report.html" class="nav-link"> 
            <i class="fi fi-rr-chart-pie nav-icon"></i>
            <span class="nav_name">Report</span> 
          </a>

          <a href="settings.html" class="nav-link"> 
            <i class="fi fi-rr-user-gear nav-icon"></i>
            <span class="nav_name">Administrator</span> 
          </a> 
          
          <a href="listing.html" class="nav-link"> 
            <i class="fi fi-rr-bookmark nav-icon"></i>
            <span class="nav_name">Listing</span> 
          </a>

          <a href="listing.html" class="nav-link"> 
            <i class="fi fi-rr-sparkles nav-icon"></i>
            <span class="nav_name">Promo</span> 
          </a> 
        </div>
      </div> 
      
      <a href="#" class="nav-link"> 
        <i class="fi fi-rr-sign-out-alt nav-icon"></i>
        <span class="nav_name">Sign Out</span> 
      </a>
    </nav>
  </aside>

  <main id="main-content" class="content-wrapper">
    <div class="p-3 flex-fill">
      <div class="mb-3 py-3">
        <h2 class="mb-0 fw-bold">Member Management</h2>
      </div>
      
      <div class="row g-2 mb-3">
        <div class="col-sm-5">
          <div class="row g-2">
            <div class="col-md-4">
              <select class="form-select text-sm h-40">
                <option value="">All Member</option>
                <option value="">Active</option>
                <option value="">Deactive</option>
                <option value="">Pending</option>
              </select>
            </div>
      
            <div class="col-md-8">
              <div class="d-flex gap-2">
                <div class="input-icon flex-fill">
                  <input type="text" class="form-control text-sm h-40" placeholder="Search...">
                  <div class="input-group-icon"><i class="fi fi-rr-search"></i></div>
                </div>
                <button class="btn btn-normal btn-primary text-xs shadow-none h-40">Search</button>
              </div>
            </div>
          </div>
        </div>
      
        <div class="col-sm-7">
          <div class="text-end h-100">
            <button class="btn btn-dark btn-normal text-xs h-40" data-mdb-modal-init data-mdb-target="#newMemberModal">
              <i class="fi fi-rr-plus me-2"></i> New Member
            </button>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-3 border rounded-3">
        <table id="table-user" class="table table-sm data-table" style="width: 100%;">
          <thead>
            <tr>
              <th rowspan="2" class="text-end" width="42px">No.</th>
              <th rowspan="2" class="text-nowrap">Member ID</th>
              <th rowspan="2" class="text-nowrap">Full Name</th>
              <th colspan="5" class="text-center">Details</th>
              <th rowspan="2" class="text-center">Status</th>
              <th rowspan="2" width="3%">&nbsp;</th>
            </tr>
            <tr>
              <th>WhatsApp</th>
              <th>Email</th>
              <th>Place, Date of Birth</th>
              <th>Gender</th>
              <th>Address</th>
            </tr>
          </thead>
          <tbody>
            <tr class="d-none">
              <td class="text-end">1</td>
              <td class="text-nowrap"><a href="#" class="fw-semibold text-primary" data-mdb-modal-init data-mdb-target="#detailsMemberModal">F0001</a></td>
              <td class="text-nowrap">John Doe</td>
              <td>+6281234567890</td>
              <td>+6281234567890</td>
              <td>Batam, 5 Jun 1980</td>
              <td>Male</td>
              <td>Pasir Putih, Batam</td>
              <td class="text-center">Active</td>
              <td class="text-end">
                <div class="dropdown">
                  <button class="btn btn-tertiary btn-sm text-dark p-0 pe-2" data-mdb-dropdown-init data-mdb-ripple-init aria-expanded="false">
                    <i class="fi fi-rr-menu-dots-vertical"></i>
                  </button>
                  <ul class="dropdown-menu">
                    <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#detailsMemberModal"><i class="fi fi-rr-eye me-1"></i> Overview</a></li>
                    <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#newMemberModal"><i class="fi fi-rr-edit me-1"></i> Edit data</a></li>
                    <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#deactiveMemberModal"><i class="fi fi-rr-ban me-1"></i> Deactive</a></li>
                  </ul>
                </div>
              </td>
            </tr>
            <tr class="d-none">
              <td class="text-end text-nowrap">2</td>
              <td class="text-nowrap"><a href="#" class="fw-semibold text-primary" data-mdb-modal-init data-mdb-target="#detailsMemberModal">C0001</a></td>
              <td class="text-nowrap">Jane Doe</td>
              <td>+6281298745632</td>
              <td>+6281298745632</td>
              <td>Surabaya, 28 Oct 1986</td>
              <td>Female</td>
              <td>Pasir Putih, Batam</td>
              <td class="text-center">Active</td>
              <td class="text-end">
                <div class="dropdown">
                  <button class="btn btn-tertiary btn-sm text-dark p-0 pe-2" data-mdb-dropdown-init data-mdb-ripple-init aria-expanded="false">
                    <i class="fi fi-rr-menu-dots-vertical"></i>
                  </button>
                  <ul class="dropdown-menu">
                    <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#detailsMemberModal"><i class="fi fi-rr-eye me-1"></i> Overview</a></li>
                    <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#newMemberModal"><i class="fi fi-rr-edit me-1"></i> Edit</a></li>
                    <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#deactiveMemberModal"><i class="fi fi-rr-ban me-1"></i> Deactive</a></li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
    
        <div class="table-footer">
          <div class="action-area d-none d-md-inline-flex">
            <button class="btn btn-sm btn-light"><i class="fi fi-rr-print me-1"></i> Print</button>
            <button class="btn btn-sm bg-success-subtle text-success"><i class="fi fi-rr-file-download me-1"></i> Excel</button>
            <button class="btn btn-sm bg-danger-subtle text-danger"><i class="fi fi-rr-file-download me-1"></i> PDF</button>
          </div>
    
          <nav class="table-pagination">
            <ul class="pagination">
              <li class="page-item"><a class="page-link" href="#">Previous</a></li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"><a class="page-link" href="#">Next</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>

    <div class="w-350 p-3 border-start">
      <h4 class="fw-semibold mb-3">New Joined Member</h4>
      <ul class="list-group list-group-light list-group-contact list-group-small">
        <li class="list-group-item">
          <div class="item-wrapper">
            <div class="user-avatar">
              <img src="/images/memoji/Memoji-08.png" alt="">
            </div>
            <div class="user-details">
              <a href="#" class="fw-semibold text-primary" data-mdb-modal-init="" data-mdb-target="#detailsMemberModal">Anne Hathaway</a>
              <div class="text-xs text-muted">+6281234456789</div>
            </div>
            <div class="dropdown ms-auto">
              <button class="btn btn-tertiary btn-sm text-dark p-0 pe-2" data-mdb-dropdown-init="" data-mdb-ripple-init="" aria-expanded="false" data-mdb-dropdown-initialized="true">
                <i class="fi fi-rr-menu-dots-vertical"></i>
              </button>
              <ul class="dropdown-menu">
                <li><a href="#" class="dropdown-item" data-mdb-modal-init="" data-mdb-target="#detailsMemberModal"><i class="fi fi-rr-eye me-1"></i> Overview</a></li>
                <li><a href="#" class="dropdown-item" data-mdb-modal-init="" data-mdb-target="#newMemberModal"><i class="fi fi-rr-edit me-1"></i> Edit data</a></li>
                <li><a href="#" class="dropdown-item" data-mdb-modal-init="" data-mdb-target="#deactiveMemberModal"><i class="fi fi-rr-ban me-1"></i> Deactive</a></li>
              </ul>
            </div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="item-wrapper">
            <div class="user-avatar">
              <img src="/images/memoji/Memoji-05.png" alt="">
            </div>
            <div class="user-details">
              <a href="#" class="fw-semibold text-primary" data-mdb-modal-init="" data-mdb-target="#detailsMemberModal">Bruce Wayne</a>
              <div class="text-xs text-muted">+6281265396351</div>
            </div>
            <div class="dropdown ms-auto">
              <button class="btn btn-tertiary btn-sm text-dark p-0 pe-2" data-mdb-dropdown-init="" data-mdb-ripple-init="" aria-expanded="false" data-mdb-dropdown-initialized="true">
                <i class="fi fi-rr-menu-dots-vertical"></i>
              </button>
              <ul class="dropdown-menu">
                <li><a href="#" class="dropdown-item" data-mdb-modal-init="" data-mdb-target="#detailsMemberModal"><i class="fi fi-rr-eye me-1"></i> Overview</a></li>
                <li><a href="#" class="dropdown-item" data-mdb-modal-init="" data-mdb-target="#newMemberModal"><i class="fi fi-rr-edit me-1"></i> Edit data</a></li>
                <li><a href="#" class="dropdown-item" data-mdb-modal-init="" data-mdb-target="#deactiveMemberModal"><i class="fi fi-rr-ban me-1"></i> Deactive</a></li>
              </ul>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </main>

  <!-- MODAL NEW MEMBER -->
  <div class="modal fade" id="newMemberModal" tabindex="-1" aria-labelledby="newMemberModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered modal-fullscreen-sm-down">
      <div class="modal-content">
        <form class="d-flex flex-column flex-fill">
          <div class="modal-header">
            <h4 class="modal-title fw-bold" id="exampleModalLabel">New Member</h4>
            <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-4" style="min-height: 500px;">
            <div class="step">
              <div class="step-items">
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Member Type</label>
                  <select name="" id="" class="form-select text-sm">
                    <option value="" hidden>Select member type</option>
                    <option value="">Founder</option>
                    <option value="">Club</option>
                  </select>
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Full Name</label>
                  <input type="text" class="form-control text-sm">
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">WhatsApp</label>
                  <input type="tel" class="form-control text-sm" inputmode="tel" placeholder="+628XXX">
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Email</label>
                  <input type="email" class="form-control text-sm" inputmode="email">
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Place, Date of Birth</label>
                  <div class="d-flex gap-2">
                    <input type="text" class="form-control text-sm">
                    <div class="input-date-icon" style="width: 160px;">
                      <input type="date" name="" id="" class="form-control text-sm">
                      <div class="input-group-icon"><i class="fi fi-rr-calendar"></i></div>
                    </div>
                  </div>
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Gender</label>
                  <select name="" id="" class="form-select text-sm">
                    <option value="" hidden>Select gender</option>
                    <option value="">Male</option>
                    <option value="">Female</option>
                  </select>
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Address</label>
                  <textarea class="form-control text-sm"></textarea>
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Notes</label>
                  <textarea class="form-control text-sm" rows="3"></textarea>
                </div>
              </div>
              
              <div class="step-items">
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Emergency Contact</label>
                  <input type="text" class="form-control text-sm">
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Relationship</label>
                  <input type="text" class="form-control text-sm">
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Phone Number</label>
                  <input type="tel" class="form-control text-sm" inputmode="tel" placeholder="+628XXX">
                </div>
                <div class="form-sm-inline-25 mb-2">
                  <label class="text-xs fw-semibold mb-1">Address</label>
                  <textarea class="form-control text-sm"></textarea>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer bg-white">
            <button type="button" class="btn btn-step btn-normal text-xs btn-light d-none me-auto">Previous</button>
            <button type="button" class="btn btn-step btn-normal text-xs btn-dark">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- MODAL MEMBER DETAILS -->
  <div class="modal fade" id="detailsMemberModal" tabindex="-1" aria-labelledby="detailsMemberModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered modal-fullscreen-sm-down">
      <div class="modal-content">
        <div class="d-flex flex-column flex-fill">
          <div class="modal-header">
            <h4 class="modal-title fw-bold" id="exampleModalLabel">F0001</h4>
            <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-4 text-sm bg-white" style="min-height: 600px;">
            <ul class="nav nav-tabs mb-3" id="ex1" role="tablist">
              <li class="nav-item" role="presentation">
                <a data-mdb-tab-init class="nav-link active" id="ex1-tab-1" href="#ex1-tabs-1" role="tab" aria-controls="ex1-tabs-1" aria-selected="true">Profile</a>
              </li>
              <li class="nav-item" role="presentation">
                <a data-mdb-tab-init class="nav-link" id="ex1-tab-2" href="#ex1-tabs-2" role="tab" aria-controls="ex1-tabs-2" aria-selected="false">Emergency Contact</a>
              </li>
              <li class="nav-item" role="presentation">
                <a data-mdb-tab-init class="nav-link" id="ex1-tab-3" href="#ex1-tabs-3" role="tab" aria-controls="ex1-tabs-3" aria-selected="false">User Activity</a>
              </li>
            </ul>

            <div class="tab-content" id="ex1-content">
              <div class="tab-pane fade show active" id="ex1-tabs-1" role="tabpanel" aria-labelledby="ex1-tab-1">
                <ul class="list-group list-group-light list-group-small list-group-25 mb-4">
                  <li class="list-group-item">
                    <span>Member Type</span>
                    <span>Founder</span>
                  </li>
                  <li class="list-group-item">
                    <span>Full Name</span>
                    <span>John Doe</span>
                  </li>
                  <li class="list-group-item">
                    <span>WhatsApp</span>
                    <span>+6281234567890</span>
                  </li>
                  <li class="list-group-item">
                    <span>Email</span>
                    <span>johndoe@mail.com</span>
                  </li>
                  <li class="list-group-item">
                    <span>Place, Date of birth</span>
                    <span>Batam, 5 Jun 1980</span>
                  </li>
                  <li class="list-group-item">
                    <span>Gender</span>
                    <span>Male</span>
                  </li>
                  <li class="list-group-item">
                    <span>Address</span>
                    <span>Pasir Putih, Batam</span>
                  </li>
                  <li class="list-group-item">
                    <span>Notes</span>
                    <span>-</span>
                  </li>
                  <li class="list-group-item">
                    <span>Join Date</span>
                    <span>03 June 2024</span>
                  </li>
                </ul>

                <table class="table table-sm table-bordered">
                  <thead>
                    <tr class="table-dark text-xs">
                      <th class="ps-3">Type of Point</th>
                      <th class="text-center">Amount</th>
                      <th class="text-center">Valid Thru</th>
                      <th class="text-center">Hold</th>
                      <th class="text-center">Total</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <th class="ps-3"><div class="text-truncate">Founder Point</div></th>
                      <td class="text-center">2.000</td>
                      <td class="text-center">Dec 2025</td>
                      <td class="text-center">0</td>
                      <td class="text-center">2.000</td>
                    </tr>
                    <tr>
                      <th class="ps-3"><div class="text-truncate">Club Point</div></th>
                      <td class="text-center">1.250</td>
                      <td class="text-center">No Expiry</td>
                      <td class="text-center">500</td>
                      <td class="text-center">1.750</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="tab-pane fade show" id="ex1-tabs-2" role="tabpanel" aria-labelledby="ex1-tab-2">
                <ul class="list-group list-group-light list-group-small list-group-25">
                  <li class="list-group-item">
                    <span>Emergency Contact</span>
                    <span>Jane Doe</span>
                  </li>
                  <li class="list-group-item">
                    <span>Relationship</span>
                    <span>Wife</span>
                  </li>
                  <li class="list-group-item">
                    <span>Phone Number</span>
                    <span>+6281298745632</span>
                  </li>
                  <li class="list-group-item">
                    <span>Address</span>
                    <span>Pasir Putih, Batam</span>
                  </li>
                </ul>
              </div>
              <div class="tab-pane fade show" id="ex1-tabs-3" role="tabpanel" aria-labelledby="ex1-tab-3">
                <table class="table table-sm">
                  <thead>
                    <tr>
                      <th width="160px">Date Time</th>
                      <th width="125px">Type</th>
                      <th>Activity Info</th>
                      <th width="100px" class="text-end">Detection IP</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>2024-06-24 06:08:59</td>
                      <td>UserLogin</td>
                      <td>User Login</td>
                      <td class="text-end">27.131.6.10</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="modal-footer bg-white">
            <button type="button" class="btn btn-normal text-xs btn-light" data-mdb-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL DEACTIVATE MEMBER -->
  <div class="modal fade" id="deactiveMemberModal" tabindex="-1" aria-labelledby="deactiveMemberModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <form class="d-flex flex-column flex-fill">
          <div class="modal-header">
            <h4 class="modal-title fw-bold" id="exampleModalLabel">Deactive Member</h4>
            <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-4 text-sm">
            <div>
              <label class="mb-1 text-muted">Reason for deactive:</label>
              <textarea class="form-control text-sm" rows="5"></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-light" data-mdb-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" data-mdb-dismiss="modal">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="/js/jquery.min.js"></script>
  <script src="/js/mdb.umd.min.js"></script>
  <script src="/js/datatables.min.js"></script>
  <script src="/js/swiper-bundle.min.js"></script>
  <script src="/js/swiper.js"></script>
  <script src="/js/main.js"></script>
  <script>
    new DataTable('.data-table', {
      responsive: true,
      searching: false,
      paging: false,
      ordering: false,
      info: false,
      columnDefs: [
        { responsivePriority: 1, targets: 0 },
        { responsivePriority: 0, targets: 1 },
        { responsivePriority: 3, targets: -1 }
      ]
    });

    fetch('/data_dummy/user.json')
    .then(response => response.json())
    .then(data => {
      const tableUserBody = document.getElementById('table-user').querySelector('tbody');
      let count = 1;

      function formatDate(dateString) {
        if(dateString === ""){
          return "-";
        }else{
          const options = { day: '2-digit', month: 'short', year: 'numeric' };
          return new Date(dateString).toLocaleDateString('en-GB', options);
        }
      }

      data.forEach(member => {
        const row = document.createElement('tr');

        row.innerHTML = `
          <td class="text-end">${count}</td>
          <td class="text-nowrap"><a href="#" class="fw-semibold text-primary" data-mdb-modal-init data-mdb-target="#detailsMemberModal">${member.userid}</a></td>
          <td class="text-nowrap">${member.fullname}</td>
          <td>${member.whatsapp}</td>
          <td>${member.email}</td>
          <td>${member.place_of_birth}, ${formatDate(member.date_of_birth)}</td>
          <td>${member.gender}</td>
          <td>${member.address}</td>
          <td class="text-center">${member.status}</td>
          <div class="dropdown">
            <button class="btn btn-tertiary btn-sm text-dark p-0 pe-2" data-mdb-dropdown-init data-mdb-ripple-init aria-expanded="false">
              <i class="fi fi-rr-menu-dots-vertical"></i>
            </button>
            <ul class="dropdown-menu">
              <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#detailsMemberModal"><i class="fi fi-rr-eye me-1"></i> Overview</a></li>
              <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#newMemberModal"><i class="fi fi-rr-edit me-1"></i> Edit data</a></li>
              <li><a href="#" class="dropdown-item" data-mdb-modal-init data-mdb-target="#deactiveMemberModal"><i class="fi fi-rr-ban me-1"></i> Deactive</a></li>
            </ul>
          </div>
        `;
        tableUserBody.appendChild(row);
        count++;
      });
    })
    .catch(error => console.error('Error fetching data:', error));
  </script>
</body>
</html>